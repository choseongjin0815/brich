<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ktdsuniversity.edu.domain.campaign.dao.impl.AdminCategoryDaoImpl">
    
    <!-- 캠페인 카테고리 목록 -->
    <resultMap type="com.ktdsuniversity.edu.domain.campaign.vo.AdminCampaignCategoryVO" id="AdminCampaignCategoryVOMap" autoMapping="true">
        <result column="LEVEL" property="level"/>
        
        <result column="CD_ID" property="cdId"/>
        <result column="CD_NM" property="cdNm"/>
        <result column="PRNT_CD_ID" property="prntCdId"/>
        
        <result column="PRNT_CD_NM" property="prntCdNm"/>
        
        <result column="USE_YN" property="useYn"/>
        <result column="SRT" property="srt"/>
        <result column="CRT_DT" property="crtDt"/>
        <result column="CRTR" property="crtr"/>
        <result column="UPDT_DT" property="updtDt"/>
        <result column="MTTR" property="mttr"/>
        <result column="DLT_YN" property="dltYn"/>
    </resultMap>
    <select id="selectCampaignCategoryList" resultMap="AdminCampaignCategoryVOMap">
        SELECT LEVEL
             , CD_ID 
             , CD_NM
             , PRNT_CD_ID
             , PRIOR CD_NM AS PRNT_CD_NM
             , USE_YN
             , SRT
             , CRT_DT
             , CRTR
             , UPDT_DT
             , MTTR
             , DLT_YN
          FROM CM_CD
         START WITH PRNT_CD_ID = '3000'
       CONNECT BY PRIOR CD_ID = PRNT_CD_ID
         ORDER SIBLINGS BY SRT
    </select>
    
</mapper>