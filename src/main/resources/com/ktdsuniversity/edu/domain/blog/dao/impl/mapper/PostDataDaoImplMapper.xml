<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ktdsuniversity.edu.domain.blog.dao.impl.PostDataDaoImpl">
    
    <insert id="insertPostData"
    		parameterType="com.ktdsuniversity.edu.domain.blog.vo.PostDataVO">
    <selectKey keyProperty="pstDaId" order="BEFORE" resultType="string">
    SELECT 'PST-DA-' || TO_CHAR(SYSDATE, 'YYYYMMDD-') || LPAD(SEQ_PST_DA_PK.NEXTVAL, 6, 0)
           FROM DUAL
    </selectKey>
    INSERT INTO TEAM_A.PST_DA
           (PST_DA_ID
         , USR_ID
         , PST_URL
         , PST_CMNT
         , PST_LK
         , PSTD_DT
         , CRT_DT
         , CRTR
         , UPDT_DT
         , MTTR
         , DLT_YN)
    VALUES(#{pstDaId}
         , #{usrId}
         , #{pstUrl}
         , #{pstCmnt}
         , #{pstLk}
         , TO_DATE(#{pstdDt}, 'YYYY-MM-DD')
         , SYSDATE
         , #{usrId}
         , SYSDATE
         , #{usrId}
         , 'N'	)
    
    </insert>
    
</mapper>